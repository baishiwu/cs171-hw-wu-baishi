<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <script src="http://d3js.org/d3.v3.min.js"></script>
  <style>
  </style>
<body>

  <div>
    <form action ="">
      View Data Type: <input class="data_type" type="radio" name="Date" value="Ordinal" checked="checked">Ordinal
      <input class="data_type" type="radio" name="Date" value="Quantitative" checked="checked">Quantitative
    </form>
  </div>
  <form name="myform">
    <div>
    Layout: 
      <select name="optone" onchange="setOptions(document.myform.optone.options[document.myform.optone.selectedIndex].value);">
        <option value="" selected="selected"></option>
        <option value="rankings">Rankings</option>
        <option value="scatterplot" selected>Scatterplot</option>
      </select>
    </div>
    <div>
      Variable: <select name ="opttwo">
        <option value="" selected="selected">Select Layout First</option>
      </select>
    </div>
  </form>

  <script type="text/javascript">

  // Dynamically Change Inputs

    function setOptions(chosen) {
      var selbox = document.myform.opttwo;
       
      selbox.options.length = 0;
        if (chosen == "") {
          selbox.options[selbox.options.length] = new Option('Select Layout First',' ');
        }
        if (chosen == "rankings") {
          selbox.options[selbox.options.length] = new Option('Population');
          selbox.options[selbox.options.length] = new Option('GDP');
          selbox.options[selbox.options.length] = new Option('Life Expectancy');
        }
        if (chosen == "scatterplot") {
          selbox.options[selbox.options.length] = new Option('Population vs. GDP');
          selbox.options[selbox.options.length] = new Option('Longitude vs. Latitude');
        }
      }
 
  // Rankings

    var margin = {top: 10, bottom: 10, left:100, right: 40};
    var width = 900 - margin.left - margin.right;
    var height = 900 - margin.top - margin.bottom;
    var padding = 30;

    var svg = d3.select("body")
                .append("svg")
                .attr("width", width+margin.left+margin.right)
                .attr("height", height+margin.top+margin.bottom);
 
    var g = svg.append("g")
                .attr("transform", "translate("+margin.left+","+margin.top+")");
 
    d3.json("data/countries_2012.json", function(data) {

        data.sort(function(a,b) { return b.population - a.population; })
 
        var xScale = d3.scale.linear()
          .domain([-90, d3.max(data, function(d) { return d.longitude; })])
          .range([padding, width - padding * 2]);

        var yScale = d3.scale.linear()
          .domain([-90, d3.max(data, function(d) { return d.latitude; })])
          .range([height - padding, padding]);

        console.log(xScale);

        var xAxis = d3.svg.axis()
              .scale(xScale)
              .orient("bottom")
              .ticks(5); 

        var yAxis = d3.svg.axis()
              .scale(yScale)
              .orient("left")
              .ticks(5);

        svg.selectAll("circle")
          .data(data)
          .enter()
          .append("circle")
          .attr("cx", function(d) { return xScale(d.longitude); })      
          .attr("cy", function(d) { return yScale(d.latitude); })      
          .attr("r", 5 );
    
        svg.selectAll("text")
          .data(data)
          .enter()
          .append("text")
          .text(function(d) { return d.name; })
          .attr("x", function(d) { return xScale(d.longitude); })
          .attr("y", function(d) { return yScale(d.latitude); })
          .attr("font-family", "sans-serif")
          .attr("font-size", "10px")
    });

  </script>
</body>